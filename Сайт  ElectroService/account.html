<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç | ElectroService</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="images/favicon.ico">
</head>
<body>
  <!-- –®–∞–ø–∫–∞ -->
  <header class="header">
    <div class="container">
      <div class="logo">
        <span>Electro<span>Service</span></span>
      </div>
      
      <nav class="nav">
        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="services.html">–£—Å–ª—É–≥–∏</a>
        <a href="price.html">–¶–µ–Ω—ã</a>
        <a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="order.html">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a>
        <a href="account.html" class="active">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
      </nav>
      
      <div class="auth-buttons">
        <button id="logoutBtn" class="btn btn-outline">–í—ã–π—Ç–∏</button>
      </div>
    </div>
  </header>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="account-page">
    <section class="account-section">
      <div class="container">
        <div class="account-header">
          <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
          <div class="user-info">
            <div class="user-avatar">üë§</div>
            <div class="user-details">
              <h2 id="userName"></h2>
              <p id="userEmail"></p>
              <p id="userPhone"></p>
            </div>
          </div>
        </div>
        
        <div class="account-content">
          <h2>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h2>
          
          <div class="orders-table" id="ordersTable">
            <div class="table-header">
              <span>‚Ññ –ó–∞–∫–∞–∑–∞</span>
              <span>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</span>
              <span>–ü—Ä–æ–±–ª–µ–º–∞</span>
              <span>–î–∞—Ç–∞</span>
              <span>–°—Ç–∞—Ç—É—Å</span>
            </div>
            
            <div class="no-orders" style="text-align: center; padding: 30px;">
              <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
              <a href="order.html" class="btn btn-primary">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- –ü–æ–¥–≤–∞–ª -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <p>¬© 2024 ElectroService. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <div class="social-links">
          <a href="#"><img src="images/vk-icon.jpg" alt="VK"></a>
          <a href="#"><img src="images/tg-icon.jpg" alt="Telegram"></a>
        </div>
      </div>
    </div>
    <div style="text-align: center; margin-top: 20px; font-size: 12px;">
  <a href="admin.html" style="color: #666;">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø</a>
</div>
  </footer>

  <script src="js/auth.js"></script>
  <script src="js/main.js"></script>
  <script>
    // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–∫–∞–∑—ã
    document.addEventListener('DOMContentLoaded', function() {
      const user = JSON.parse(localStorage.getItem('user'));
      if (user) {
        document.getElementById('userName').textContent = user.name;
        document.getElementById('userEmail').textContent = user.email;
        document.getElementById('userPhone').textContent = user.phone;
        
        if (user.orders && user.orders.length > 0) {
          const ordersTable = document.getElementById('ordersTable');
          ordersTable.querySelector('.no-orders').remove();
          
          user.orders.forEach(order => {
            const row = document.createElement('div');
            row.className = 'table-row';
            row.innerHTML = `
              <span>${order.id}</span>
              <span>${order.device}</span>
              <span>${order.problem}</span>
              <span>${order.date}</span>
              <span><span class="status ${getStatusClass(order.status)}">${order.status}</span></span>
            `;
            ordersTable.appendChild(row);
          });
        }
      } else {
        window.location.href = 'index.html';
      }
    });
    
    function getStatusClass(status) {
      switch(status) {
        case '–ó–∞–≤–µ—Ä—à—ë–Ω': return 'completed';
        case '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ':
        case '–í —Ä–∞–±–æ—Ç–µ': return 'in-progress';
        case '–û—Ç–º–µ–Ω—ë–Ω': return 'canceled';
        default: return '';
      }
    }
  </script>
</body>
</html>